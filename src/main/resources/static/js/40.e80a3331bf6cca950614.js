webpackJsonp([40],{"2eN8":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("bOdI"),a=s.n(i),l=(s("bzuE"),s("Eaqu")),n={data:function(){var e;return e={idx:1,xianshi:1,avatar:"",time:"",username:"",email:"",password:"",emailcode:"",mobilecode:""},a()(e,"password",""),a()(e,"newpassword",""),a()(e,"newpassword2",""),a()(e,"mobile",""),a()(e,"show",1),a()(e,"items",[{id:1,name:"修改邮箱"},{id:2,name:"修改手机号"}]),e},mounted:function(){var e=localStorage.getItem("data_token");this.email=JSON.parse(e).email,this.username=JSON.parse(e).username,""==JSON.parse(e).avatar||null==JSON.parse(e).avatar?this.avatar="./static/logoname.png":this.avatar=JSON.parse(e).avatar},methods:{dianji:function(e){this.idx=e},xiugaipassword:function(){var e=this,t=this.password,s=this.newpassword,i=this.newpassword2;""==t||null==t?this.$message.error("密码不能为空"):""==s||null==s?this.$message.error("新密码不能为空"):i!=s?this.$message.error("两次新密码不相同"):Object(l.o)({password:t,newpassword:s}).then(function(t){1==t.code&&e.$message({message:t.msg,type:"success"})})},emailclick:function(){var e=this,t=this,s=t.email;""==s||null==s?this.$message.error("Email格式错误，请重新输入"):Object(l.K)({email:t.email,event:"change"}).then(function(s){if("发送成功"==s.msg){e.Time_count||(e.time=60,t.xianshi=2,e.timer=setInterval(function(){e.time>0&&e.time<=60?e.time--:(e.xianshi=1,clearInterval(e.timer),e.timer=null)},1e3))}})},xiugaiemail:function(){var e=this,t=this.email,s=this.emailcode;""==t||null==t?this.$message.error("Email地址错误，请重新输入"):""==s||null==s?this.$message.error("验证码格式错误，请重新输入"):Object(l.n)({email:t,code:s}).then(function(t){"修改成功"==t.msg?e.$message({message:t.msg,type:"success"}):"验证码错误"!=t.msg&&"邮箱已存在"!=t.msg||e.$message.error(t.msg)})},clickmoblie:function(){var e=this,t=this.mobile;""==t||null==t||11!=t.length?this.$message.error("手机号错误，请重新输入"):Object(l.N)({mobile:t,event:"change"}).then(function(t){if("发送成功"==t.msg){e.Time_count||(e.time=60,e.show=2,e.timer=setInterval(function(){e.time>0&&e.time<=60?e.time--:(e.show=1,clearInterval(e.timer),e.timer=null)},1e3))}})},xiugaiphone:function(){var e=this.mobile,t=this.mobilecode;""==e||null==e||11!=e.length?this.$message.error("手机号不对，请重新输入"):""==t||null==t?this.$message.error("验证码不能为空"):Object(l.I)({mobile:e,code:t}).then(function(e){"验证码错误"==e.msg||e.msg})}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"title"},[s("div",{staticClass:"title_1"},[s("div",{staticClass:"title_User"},[s("img",{attrs:{src:e.avatar}}),e._v(" "),s("div",{staticClass:"title_user_name"},[e._v(e._s(e.username))]),e._v(" "),s("div",{staticClass:"title_user_email"},[e._v(e._s(e.email))])]),e._v(" "),s("div",{staticClass:"xiugai_mima"},[s("div",{staticClass:"el-input"},[s("span",[e._v("旧密码")]),e._v(" "),s("el-input",{attrs:{placeholder:"请输入旧密码",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),s("div",{staticClass:"el-input"},[s("span",[e._v("新密码")]),e._v(" "),s("el-input",{attrs:{placeholder:"请输入新密码",type:"password"},model:{value:e.newpassword,callback:function(t){e.newpassword=t},expression:"newpassword"}})],1),e._v(" "),s("div",{staticClass:"el-input"},[s("span",[e._v("确认新密码")]),e._v(" "),s("el-input",{attrs:{placeholder:"请确认您的密码",type:"password"},model:{value:e.newpassword2,callback:function(t){e.newpassword2=t},expression:"newpassword2"}})],1),e._v(" "),s("div",{staticClass:"el-input"},[s("el-button",{attrs:{type:"primary"},on:{click:e.xiugaipassword}},[e._v("确认修改")])],1)])]),e._v(" "),s("div",{staticClass:"title_2"},[s("div",{staticClass:"title_2_1"},e._l(e.items,function(t,i){return s("div",{key:i,staticClass:"title_xiugai_1",class:[i==e.idx?"_title_xiugai_1":""],on:{click:function(t){return e.dianji(i)}}},[e._v("\n          "+e._s(t.name)+"\n        ")])}),0),e._v(" "),0==e.idx?s("div",{staticClass:"title_2_2"},[s("div",{staticClass:"title_2_2_1"},[s("span",[e._v("修改邮箱")]),e._v(" "),s("el-input",{attrs:{placeholder:"请输入您的新邮箱"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),s("div",{staticClass:"title_2_2_1"},[s("span",[e._v("验证码")]),e._v(" "),s("div",{staticClass:"title_2_yanzhengma"},[s("el-input",{attrs:{placeholder:"请输入邮箱验证码"},model:{value:e.emailcode,callback:function(t){e.emailcode=t},expression:"emailcode"}}),e._v(" "),1==e.xianshi?s("div",{staticClass:"huoqu",on:{click:function(t){return e.emailclick()}}},[e._v("\n              获取验证码\n            ")]):e._e(),e._v(" "),2==e.xianshi?s("div",{staticClass:"huoqu1"},[e._v("剩余"+e._s(e.time)+"S")]):e._e()],1)]),e._v(" "),s("div",{staticClass:"title_2_2_1"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.xiugaiemail()}}},[e._v("修改邮箱")])],1)]):e._e(),e._v(" "),1==e.idx?s("div",{staticClass:"title_2_2"},[s("div",{staticClass:"title_2_2_1"},[s("span",[e._v("修改手机号")]),e._v(" "),s("el-input",{attrs:{placeholder:"请输入您的手机号"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}})],1),e._v(" "),s("div",{staticClass:"title_2_2_1"},[s("span",[e._v("验证码")]),e._v(" "),s("div",{staticClass:"title_2_yanzhengma"},[s("el-input",{attrs:{placeholder:"请输入手机验证码"},model:{value:e.mobilecode,callback:function(t){e.mobilecode=t},expression:"mobilecode"}}),e._v(" "),1==e.show?s("div",{staticClass:"huoqu",on:{click:function(t){return e.clickmoblie()}}},[e._v("\n              获取验证码\n            ")]):e._e(),e._v(" "),2==e.show?s("div",{staticClass:"huoqu1"},[e._v("剩余"+e._s(e.time)+"S")]):e._e()],1)]),e._v(" "),s("div",{staticClass:"title_2_2_1"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.xiugaiphone()}}},[e._v("修改手机号")])],1)]):e._e()])])])},staticRenderFns:[]};var o=s("VU/8")(n,r,!1,function(e){s("QRcj")},"data-v-6a45bcbc",null);t.default=o.exports},QRcj:function(e,t){}});