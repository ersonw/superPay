webpackJsonp([21],{MCiL:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("woOf"),i=o.n(a),l=o("Eaqu"),s={data:function(){return{dvEdit:!1,dialogTitle:"",form:{username:"",mibile:"",email:"",sex:1,dep:"",status:!0},search:{path:"",description:"",apiGroup:""},list:[],page:{page:1,pageSize:14,total:0},columns:[{name:"ID",show:!0},{name:"路径",show:!0},{name:"分组",show:!0},{name:"描述",show:!0},{name:"请求",show:!0}]}},mounted:function(){this.getApiList()},methods:{getApiList:function(){var t=this,e=i()(this.search,this.page);Object(l.L)(e).then(function(e){if(0===e.code){var o=e.data,a=o.list,i=o.page,l=o.pageSize,s=o.total;t.list=a,t.page={page:i,pageSize:l,total:s}}})},query:function(){this.$set(this.page,"page",1),this.getApiList()},resetSearchForm:function(){this.search={path:"",description:"",apiGroup:""},this.getApiList()},showDialog:function(t){this.dvEdit=!0,this.dialogTitle="add"===t?"新增":"编辑"},onSubmit:function(){this.dvEdit=!1},deleteUser:function(t){this.$confirm("您确定要删除当前服务器吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){}).catch(function(){})},changeColumn:function(t){this.columns=t,this.$refs.table.doLayout()}}},n={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page-content"},[o("table-bar",{attrs:{showTop:!1,columns:t.columns},on:{changeColumn:t.changeColumn}},[o("div",{attrs:{slot:"top"},slot:"top"},[o("el-form",{attrs:{"label-width":"55px"}},[o("el-row",{attrs:{gutter:20}},[o("form-input",{attrs:{label:"路径"},model:{value:t.search.path,callback:function(e){t.$set(t.search,"path",e)},expression:"search.path"}}),t._v(" "),o("form-input",{attrs:{label:"描述"},model:{value:t.search.description,callback:function(e){t.$set(t.search,"description",e)},expression:"search.description"}}),t._v(" "),o("form-input",{attrs:{label:"分组"},model:{value:t.search.apiGroup,callback:function(e){t.$set(t.search,"apiGroup",e)},expression:"search.apiGroup"}}),t._v(" "),o("el-row",{staticStyle:{float:"right","margin-right":"10px"},attrs:{xs:24,sm:12,lg:6}},[o("el-button",{attrs:{type:"primary"},on:{click:t.query}},[t._v("搜索")]),t._v(" "),o("el-button",{on:{click:function(e){return t.resetSearchForm()}}},[t._v("重置")])],1)],1)],1)],1),t._v(" "),o("div",{attrs:{slot:"bottom"},slot:"bottom"},[o("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.showDialog("add")}}},[t._v("新增")])],1)]),t._v(" "),o("tao-table",{ref:"table",attrs:{data:t.list,page:t.page},on:{changePage:t.getApiList}},[t.columns[0].show?o("el-table-column",{attrs:{label:"ID",prop:"ID",width:"100"}}):t._e(),t._v(" "),t.columns[1].show?o("el-table-column",{attrs:{label:"路径",prop:"path"}}):t._e(),t._v(" "),t.columns[2].show?o("el-table-column",{attrs:{label:"分组",prop:"apiGroup"}}):t._e(),t._v(" "),t.columns[3].show?o("el-table-column",{attrs:{label:"描述",prop:"description"}}):t._e(),t._v(" "),t.columns[4].show?o("el-table-column",{attrs:{label:"请求",prop:"method"},scopedSlots:t._u([{key:"default",fn:function(e){return["GET"===e.row.method?o("el-tag",{attrs:{size:"mini",type:"success"}},[t._v(t._s(e.row.method))]):t._e(),t._v(" "),"POST"===e.row.method?o("el-tag",{attrs:{size:"mini"}},[t._v(t._s(e.row.method))]):t._e(),t._v(" "),"PUT"===e.row.method?o("el-tag",{attrs:{size:"mini",type:"info"}},[t._v(t._s(e.row.method))]):t._e(),t._v(" "),"DELETE"===e.row.method?o("el-tag",{attrs:{size:"mini",type:"danger"}},[t._v(t._s(e.row.method))]):t._e()]}}],null,!1,1709929134)}):t._e(),t._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(e){return t.showDialog("edit")}}},[t._v("\n          编辑\n        ")]),t._v(" "),o("el-button",{staticStyle:{color:"#FA6962"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(o){return t.deleteUser(e)}}},[t._v("\n          删除\n        ")])]}}])})],1),t._v(" "),o("el-dialog",{attrs:{title:t.dialogTitle,width:"500px",visible:t.dvEdit,top:"30vh"},on:{"update:visible":function(e){t.dvEdit=e}}},[o("el-form",{ref:"form",attrs:{model:t.form,"label-width":"60px"}},[o("el-form-item",{attrs:{label:"名称"}},[o("el-input",{model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"ip"}},[o("el-input",{model:{value:t.form.mibile,callback:function(e){t.$set(t.form,"mibile",e)},expression:"form.mibile"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"端口"}},[o("el-input",{model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"账号"}},[o("el-switch",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1)],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dvEdit=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var r=o("VU/8")(s,n,!1,function(t){o("cHcD")},"data-v-901767aa",null);e.default=r.exports},cHcD:function(t,e){}});