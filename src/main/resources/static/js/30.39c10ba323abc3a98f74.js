webpackJsonp([30],{"7MJn":function(e,t){},"8zp9":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("Xxa5"),s=i.n(a),l=i("mvHQ"),r=i.n(l),n=i("exGp"),o=i.n(n),c=(i("kiDv"),i("Eaqu")),u={data:function(){return{wechat_public_avatar:"",systemName:"",account:"",password:"",qq:"",register_money:"",leftBg:i("7Pfe"),captcha:{captchaId:"",picPath:""},user_verify:"",code:"",time:"",loading:!1,userphone:1,useremail:1,mobile:"",email:"",user_withdraw_type:[{value:"wxpay",label:"微信支付"},{value:"alipay",label:"支付宝支付"},{value:"qqpay",label:"QQ支付"}],pay_type:"alipay"}},created:function(){var e=this;return o()(s.a.mark(function t(){var i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.M)().then(function(t){e.user_verify=t.data.user_verify,e.register_money=t.data.register_money,e.title=t.data.name,e.wechat_public_avatar=t.data.logo,localStorage.setItem("config",r()(t.data))});case 2:null!=(i=e.$route.query.i)&&""!==i&&localStorage.setItem("i",i);case 4:case"end":return t.stop()}},t,e)}))()},methods:{payzhifu:function(e){this.value=e},initLanguage:function(){var e=JSON.parse(localStorage.getItem("sys"));if(e){var t=e.user.language;t&&(this.$i18n.locale=t,this.$store.dispatch("user/setLanguage",t))}},phoneclick:function(){var e=this,t=this,i=t.mobile;if(""==i||null==i||i.length<11&&i.length>11)this.$message.error("手机号不正确");else{Object(c.m)({mobile:t.mobile,event:"register"}).then(function(e){});this.timer||(this.time=60,t.userphone=0,this.timer=setInterval(function(){e.time>0&&e.time<=60?e.time--:(t.userphone=1,clearInterval(e.timer),e.timer=null)},1e3))}},emailclick:function(){var e=this,t=this,i=t.email;if(""==i||null==i);else{Object(c.e)({email:i,event:"register"}).then(function(e){});this.timer||(this.time=10,t.useremail=0,this.timer=setInterval(function(){e.time>0&&e.time<=10?e.time--:(t.useremail=1,clearInterval(e.timer),e.timer=null)},1e3))}},register:function(){var e=this,t=this.user_verify;if(0==t)if(""==this.password||null==this.password)this.$message.error("密码不能为空");else if(""==this.mobile||null==this.mobile||this.mobile.length<11&&this.mobile.length>11)this.$message.error("手机号不正确");else if(""==this.code||null==this.code)this.$message.error("验证码不能为空");else{var i=localStorage.getItem("i"),a={password:this.password,mobile:this.mobile,code:this.code,qq:this.qq,pay_type:this.pay_type};i&&(a.i=localStorage.getItem("i")),Object(c.y)(a).then(function(t){var i=r()(t.data);if(1==t.code){if(t.data.form)return document.querySelector("body").innerHTML=t.data.form,document.forms[0].submit(),!1;localStorage.setItem("data_token",i),e.$message.success(t.msg),e.$router.push("/login")}})}else if(1==t)if(""==this.password||null==this.password)this.$message.error("密码不能为空");else if(""==this.email||null==this.email)this.$message.error("您的邮箱不正确");else if(""==this.code||null==this.code)this.$message.error("验证码不能为空");else{var s=localStorage.getItem("i"),l={password:this.password,email:this.email,code:this.code,qq:this.qq,pay_type:this.pay_type};s&&(l.i=localStorage.getItem("i")),Object(c.y)(l).then(function(t){var i=r()(t.data);if(1==t.code){if(t.data.form)return document.querySelector("body").innerHTML=t.data.form,document.forms[0].submit(),!1;localStorage.setItem("data_token",i),e.$message.success(t.msg),e.$router.push("/login")}})}},fanhui:function(){this.$router.push("/login")}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("div",{staticClass:"left-wrap",style:{backgroundImage:"url("+e.leftBg+")"}},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:e.wechat_public_avatar}}),e._v(" "),a("h1",{staticClass:"title"},[e._v(e._s(e.title))])]),e._v(" "),a("img",{staticClass:"left-img",attrs:{src:i("PPYT")}})]),e._v(" "),a("div",{staticClass:"right-wrap"},[a("div",{staticClass:"header"},[a("img",{attrs:{src:e.wechat_public_avatar}}),e._v(" "),a("h1",[e._v(e._s(e.title))])]),e._v(" "),a("div",{staticClass:"login-wrap"},[a("div",{staticClass:"form"},[a("h3",[e._v("注册账户")]),e._v(" "),0==e.user_verify?a("el-col",[a("span",{staticClass:"input-label"},[e._v("手机号")]),e._v(" "),a("el-input",{attrs:{size:"medium",placeholder:"请输入您的手机号"},model:{value:e.mobile,callback:function(t){e.mobile="string"==typeof t?t.trim():t},expression:"mobile"}})],1):e._e(),e._v(" "),1==e.user_verify?a("el-col",{staticStyle:{"margin-top":"5px"}},[a("span",{staticClass:"input-label"},[e._v("邮箱")]),e._v(" "),a("el-input",{attrs:{size:"medium",placeholder:"请输入您的邮箱"},model:{value:e.email,callback:function(t){e.email="string"==typeof t?t.trim():t},expression:"email"}})],1):e._e(),e._v(" "),a("el-col",{staticStyle:{"margin-top":"5px"}},[a("span",{staticClass:"input-label"},[e._v("QQ")]),e._v(" "),a("el-input",{attrs:{size:"medium",placeholder:"请输入您的QQ"},model:{value:e.qq,callback:function(t){e.qq="string"==typeof t?t.trim():t},expression:"qq"}})],1),e._v(" "),a("el-col",{staticStyle:{"margin-top":"5px"}},[a("span",{staticClass:"input-label"},[e._v("密码")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入您的密码",size:"medium",type:"password",autocomplete:"off"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.password,callback:function(t){e.password="string"==typeof t?t.trim():t},expression:"password"}})],1),e._v(" "),a("el-col",{staticStyle:{"margin-top":"5px"}},[a("span",{staticClass:"input-label"},[e._v("验证码")]),e._v(" "),0==e.user_verify?a("div",{staticClass:"yanzhengma"},[a("el-input",{attrs:{size:"medium",placeholder:"请输入您的手机号验证码"},model:{value:e.code,callback:function(t){e.code="string"==typeof t?t.trim():t},expression:"code"}}),e._v(" "),1==e.userphone?a("el-button",{on:{click:function(t){return e.phoneclick()}}},[e._v("获取验证码")]):e._e(),e._v(" "),0==e.userphone?a("el-button",{attrs:{disabled:""}},[e._v("剩余"+e._s(e.time)+"s")]):e._e()],1):e._e(),e._v(" "),1==e.user_verify?a("div",{staticClass:"yanzhengma"},[a("el-input",{attrs:{size:"medium",placeholder:"请输入您的邮箱验证码"},model:{value:e.code,callback:function(t){e.code="string"==typeof t?t.trim():t},expression:"code"}}),e._v(" "),1==e.useremail?a("el-button",{on:{click:function(t){return e.emailclick()}}},[e._v("获取验证码")]):e._e(),e._v(" "),0==e.useremail?a("el-button",{attrs:{disabled:""}},[e._v("剩余"+e._s(e.time)+"s")]):e._e()],1):e._e()]),e._v(" "),a("el-col",{staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"alert"},[a("span",[e._v("请支付开通费"+e._s(e.register_money)+"元")])])]),e._v(" "),function(e){return 0}?a("el-col",{staticStyle:{"margin-top":"5px"}},[a("div",{staticClass:"zhifu"},[a("span",{staticClass:"input-label"},[e._v("支付方式")]),e._v(" "),a("el-select",{attrs:{size:"medium",placeholder:"请选择"},on:{change:e.payzhifu},model:{value:e.pay_type,callback:function(t){e.pay_type=t},expression:"pay_type"}},e._l(e.user_withdraw_type,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1)]):e._e(),e._v(" "),a("el-col",{staticStyle:{"margin-top":"20px"}},[a("el-button",{staticClass:"login-btn",attrs:{loading:e.loading},on:{click:function(t){return e.register()}}},[e._v("\n            注册\n          ")])],1),e._v(" "),a("el-col",[a("div",{staticClass:"fanhui",on:{click:function(t){return e.fanhui()}}},[e._v("返回到登录页")])])],1)])])])},staticRenderFns:[]};var p=i("VU/8")(u,m,!1,function(e){i("7MJn")},"data-v-2b4d60bc",null);t.default=p.exports}});