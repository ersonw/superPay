webpackJsonp([34],{HJV7:function(e,t){},zHOx:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("bOdI"),a=s.n(i),l=s("kiDv"),n=s("Eaqu"),o={data:function(){var e;return e={title:"",wechat_public_avatar:"",systemName:"",account:l.a.login.username,password:l.a.login.password,leftBg:s("7Pfe"),code:"",loading:!1,captcha:{captchaId:"",picPath:""},user_verify:""},a()(e,"code",""),a()(e,"time",""),a()(e,"loading",!1),a()(e,"userphone",1),a()(e,"useremail",1),a()(e,"username",""),a()(e,"mobile",""),a()(e,"email",""),e},created:function(){var e=JSON.parse(localStorage.getItem("config"));this.title=e.name,this.wechat_public_avatar=e.logo},methods:{initLanguage:function(){var e=JSON.parse(localStorage.getItem("sys"));if(e){var t=e.user.language;t&&(this.$i18n.locale=t,this.$store.dispatch("user/setLanguage",t))}},fanhui:function(){this.$router.push("/login")},phoneclick:function(){var e=this,t=this,s=t.mobile;if(""==s||null==s||s.length<11&&s.length>11)alert("手机号不对");else{Object(n.m)({mobile:t.mobile,event:"resetpwd"}).then(function(e){});this.timer||(this.time=60,t.userphone=0,this.timer=setInterval(function(){e.time>0&&e.time<=60?e.time--:(t.userphone=1,clearInterval(e.timer),e.timer=null)},1e3))}},forget:function(){var e=this,t=this.user_verify;0==t?""==this.password||null==this.password?alert("密码不能为空"):""==this.mobile||null==this.mobile?alert("手机号不能为空"):""==this.code||null==this.code?alert("验证码不能为空"):Object(n.g)({password:this.password,mobile:this.mobile,code:this.code}).then(function(t){e.$message.success({type:"success",message:t.msg}),e.$router.push("/login")}):1==t&&(""==this.password||null==this.password?alert("密码不能为空"):""==this.email||null==this.email?alert("邮箱不能为空"):""==this.code||null==this.code?alert("验证码不能为空"):Object(n.g)({password:this.password,email:this.email,code:this.code}).then(function(t){e.$message.success({type:"success",message:t.msg}),e.$router.push("/login")}))}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login"},[i("div",{staticClass:"left-wrap",style:{backgroundImage:"url("+e.leftBg+")"}},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:e.wechat_public_avatar}}),e._v(" "),i("h1",{staticClass:"title"},[e._v(e._s(e.title))])]),e._v(" "),i("img",{staticClass:"left-img",attrs:{src:s("PPYT")}})]),e._v(" "),i("div",{staticClass:"right-wrap"},[i("div",{staticClass:"header"},[i("img",{attrs:{src:e.wechat_public_avatar}}),e._v(" "),i("h1",[e._v(e._s(e.title))])]),e._v(" "),i("div",{staticClass:"login-wrap"},[i("div",{staticClass:"form"},[i("h3",[e._v("忘记密码")]),e._v(" "),i("el-col",{staticStyle:{"margin-top":"5px"}},[i("span",{staticClass:"input-label"},[e._v("新密码")]),e._v(" "),i("el-input",{attrs:{placeholder:"请输入您的密码",size:"medium",type:"password",autocomplete:"off"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.password,callback:function(t){e.password="string"==typeof t?t.trim():t},expression:"password"}})],1),e._v(" "),0==e.user_verify?i("el-col",{staticStyle:{"margin-top":"5px"}},[i("span",{staticClass:"input-label"},[e._v("手机号")]),e._v(" "),i("el-input",{attrs:{size:"medium",placeholder:"请输入您的手机号"},model:{value:e.mobile,callback:function(t){e.mobile="string"==typeof t?t.trim():t},expression:"mobile"}})],1):e._e(),e._v(" "),1==e.user_verify?i("el-col",{staticStyle:{"margin-top":"5px"}},[i("span",{staticClass:"input-label"},[e._v("邮箱")]),e._v(" "),i("el-input",{attrs:{size:"medium",placeholder:"请输入您的邮箱"},model:{value:e.email,callback:function(t){e.email="string"==typeof t?t.trim():t},expression:"email"}})],1):e._e(),e._v(" "),i("el-col",{staticStyle:{"margin-top":"5px"}},[i("span",{staticClass:"input-label"},[e._v("验证码")]),e._v(" "),0==e.user_verify?i("div",{staticClass:"yanzhengma"},[i("el-input",{attrs:{size:"medium",placeholder:"请输入您的手机号验证码"},model:{value:e.code,callback:function(t){e.code="string"==typeof t?t.trim():t},expression:"code"}}),e._v(" "),1==e.userphone?i("el-button",{on:{click:function(t){return e.phoneclick()}}},[e._v("获取验证码")]):e._e(),e._v(" "),0==e.userphone?i("el-button",{attrs:{disabled:""}},[e._v("剩余"+e._s(e.time)+"s")]):e._e()],1):e._e(),e._v(" "),1==e.user_verify?i("div",{staticClass:"yanzhengma"},[i("el-input",{attrs:{size:"medium",placeholder:"请输入您的邮箱验证码"},model:{value:e.code,callback:function(t){e.code="string"==typeof t?t.trim():t},expression:"code"}}),e._v(" "),1==e.useremail?i("el-button",{on:{click:function(t){return e.emailclick()}}},[e._v("获取验证码")]):e._e(),e._v(" "),0==e.useremail?i("el-button",{attrs:{disabled:""}},[e._v("剩余"+e._s(e.time)+"s")]):e._e()],1):e._e()]),e._v(" "),i("el-col",{staticStyle:{"margin-top":"20px"}},[i("el-button",{staticClass:"login-btn",attrs:{loading:e.loading},on:{click:function(t){return e.forget()}}},[e._v("\n             确认修改\n           ")])],1),e._v(" "),i("el-col",[i("div",{staticClass:"fanhui",on:{click:function(t){return e.fanhui()}}},[e._v("返回到登录页")])])],1)])])])},staticRenderFns:[]};var c=s("VU/8")(o,r,!1,function(e){s("HJV7")},"data-v-0cf22cc6",null);t.default=c.exports}});